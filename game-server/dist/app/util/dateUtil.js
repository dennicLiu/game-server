"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const moment = require("moment");
moment.locale('zh-cn');
const path = require("path");
const pinus_logger_1 = require("pinus-logger");
const logger = pinus_logger_1.getLogger("game", path.basename(__filename));
class dateUtil {
    constructor() {
        this.moment = moment;
        this.rank = "040000";
        this.activity = "210000";
    }
    timestamp(time = new Date()) {
        return new Date(time).getTime();
    }
    getDiffRefreshSecond(type = "rank") {
        let self = this;
        let day = self.moment().date();
        if (moment(`${self[type]}`, "HHmmss").valueOf() > moment().valueOf()) {
            day++;
        }
        day = day < 10 ? "0" + day : day;
        return moment(`${day}+${self[type]}`, "DDHHmmss").diff(moment(), "seconds");
    }
    diffTime(year, month, days) {
        let self = this;
        let t1 = self.moment().year();
        var t2 = self.moment().month() + 1;
        var t3 = self.moment().date();
        return `${t1 + year}-${t2 + month}-${t3 + days}`;
    }
    diffTimeStamp(year, month, days) {
        let self = this;
        return self.timestamp(self.diffTime(year, month, days));
    }
    diffTimeStampBySecond(year, month, days) {
        let self = this;
        return Number((self.diffTimeStamp(year, month, days) / 1000).toFixed(0));
    }
}
module.exports = new dateUtil();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZVV0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9hcHAvdXRpbC9kYXRlVXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlDQUFpQztBQUNqQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZCLDZCQUE2QjtBQUM3QiwrQ0FBeUM7QUFDekMsTUFBTSxNQUFNLEdBQU0sd0JBQVMsQ0FBQyxNQUFNLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBRTlEO0lBSUk7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFJLFFBQVEsQ0FBQztRQUN0QixJQUFJLENBQUMsUUFBUSxHQUFJLFFBQVEsQ0FBQTtJQUM3QixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQVcsSUFBSSxJQUFJLEVBQUU7UUFDM0IsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsb0JBQW9CLENBQUMsT0FBVSxNQUFNO1FBQ2pDLElBQUksSUFBSSxHQUFNLElBQUksQ0FBQztRQUNuQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsSUFBRyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBQyxNQUFNLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBQztZQUM5RCxHQUFHLEVBQUUsQ0FBQTtTQUNSO1FBQ0QsR0FBRyxHQUFDLEdBQUcsR0FBQyxFQUFFLENBQUEsQ0FBQyxDQUFBLEdBQUcsR0FBQyxHQUFHLENBQUEsQ0FBQyxDQUFBLEdBQUcsQ0FBQztRQUN4QixPQUFPLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUMsU0FBUyxDQUFDLENBQUE7SUFDN0UsQ0FBQztJQUVELFFBQVEsQ0FBQyxJQUFXLEVBQUMsS0FBWSxFQUFDLElBQVc7UUFDekMsSUFBSSxJQUFJLEdBQU8sSUFBSSxDQUFDO1FBQ3BCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM5QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM5QixPQUFPLEdBQUcsRUFBRSxHQUFDLElBQUksSUFBSSxFQUFFLEdBQUMsS0FBSyxJQUFJLEVBQUUsR0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUM5QyxDQUFDO0lBRUQsYUFBYSxDQUFDLElBQVcsRUFBQyxLQUFZLEVBQUMsSUFBVztRQUM5QyxJQUFJLElBQUksR0FBUSxJQUFJLENBQUM7UUFDdEIsT0FBUSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQ3pELENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxJQUFXLEVBQUMsS0FBWSxFQUFDLElBQVc7UUFDdEQsSUFBSSxJQUFJLEdBQVEsSUFBSSxDQUFDO1FBQ3JCLE9BQVEsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLElBQUksQ0FBQyxHQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3pFLENBQUM7Q0FFSjtBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQyJ9